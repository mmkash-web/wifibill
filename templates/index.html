<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EMMKASH WIFI</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
            text-align: center;
        }
        .header {
            background: linear-gradient(to right, #3b82f6, #6c47ff);
            color: white;
            padding: 15px;
            font-size: 20px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .wifi-icon {
            font-size: 24px;
            color: white;
            margin-right: 10px;
        }
        .support-number {
            font-size: 14px;
            font-weight: normal;
            margin-top: 5px;
        }
        .container {
            width: 90%;
            max-width: 600px;
            margin: 20px auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(0,0,0,0.1);
        }
        .package-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        .package {
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            flex: 1 1 calc(50% - 20px);
            box-sizing: border-box;
        }
        .package button {
            background: #5b5bf9;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
        }
        .input-box {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .surf-btn {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            background: linear-gradient(to right, #3b82f6, #6c47ff);
            color: white;
            font-size: 16px;
        }
        .footer {
            margin-top: 20px;
            padding: 10px;
            background: #ddd;
            text-align: center;
            font-size: 14px;
        }
        .quote-container {
            padding: 20px;
            font-style: italic;
            color: #555;
        }
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
        }
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 400px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(0,0,0,0.1);
        }
        .modal-header {
            font-size: 20px;
            margin-bottom: 10px;
        }
        .modal-body {
            margin-bottom: 10px;
        }
        .modal-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
        /* Loader Styles */
        .loader {
            position: fixed;
            z-index: 1000;
            width: 100%;
            height: 100%;
            background-color: #3b82f6;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .loading-animation {
            position: relative;
            width: 100px;
            height: 100px;
        }
        .ring {
            position: absolute;
            width: 100px;
            height: 100px;
            border: 3px solid transparent;
            border-radius: 50%;
        }
        .ring:nth-child(1) {
            border-top-color: #ff00ff;
            transform: rotateX(60deg);
            animation: spin1 1.5s linear infinite;
        }
        .ring:nth-child(2) {
            border-left-color: #00ffff;
            transform: rotateY(60deg);
            animation: spin2 1.5s linear infinite;
        }
        .ring:nth-child(3) {
            border-bottom-color: #00ff00;
            transform: rotateZ(60deg);
            animation: spin3 1.5s linear infinite;
        }
        @keyframes spin1 {
            0% { transform: rotateX(60deg) rotate(0deg); }
            100% { transform: rotateX(60deg) rotate(360deg); }
        }
        @keyframes spin2 {
            0% { transform: rotateY(60deg) rotate(0deg); }
            100% { transform: rotateY(60deg) rotate(360deg); }
        }
        @keyframes spin3 {
            0% { transform: rotateZ(60deg) rotate(0deg); }
            100% { transform: rotateZ(60deg) rotate(360deg); }
        }
        .loading-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-family: Arial, sans-serif;
            font-size: 14px;
        }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const quotes = [
                "Technology is best when it brings people together. - Matt Mullenweg",
                "It's not a faith in technology. It's faith in people. - Steve Jobs",
                "The science of today is the technology of tomorrow. - Edward Teller",
                "The great growling engine of change - technology. - Alvin Toffler",
                "Any sufficiently advanced technology is equivalent to magic. - Arthur C. Clarke",
                "The real problem is not whether machines think but whether men do. - B.F. Skinner",
                "Technology is a useful servant but a dangerous master. - Christian Lous Lange",
                "The art challenges the technology, and the technology inspires the art. - John Lasseter",
                "We are stuck with technology when what we really want is just stuff that works. - Douglas Adams",
                "It has become appallingly obvious that our technology has exceeded our humanity. - Albert Einstein",
                "The human spirit must prevail over technology. - Albert Einstein",
                "Technology will never replace great teachers, but technology in the hands of great teachers is transformational. - George Couros",
                "The technology you use impresses no one. The experience you create with it is everything. - Sean Gerety",
                "Imagination is more important than knowledge. - Albert Einstein",
                "The advance of technology is based on making it fit in so that you don't really even notice it, so it's part of everyday life. - Bill Gates",
                "The real danger is not that computers will begin to think like men, but that men will begin to think like computers. - Sydney J. Harris",
                "We are changing the world with technology. - Bill Gates",
                "Technology is anything that wasn’t around when you were born. - Alan Kay",
                "The technology itself is not transformative. It’s the school, the pedagogy, that is transformative. - Tanya Byron",
                "Technology is a word that describes something that doesn’t work yet. - Douglas Adams",
                "The purpose of technology is not to confuse the brain but to serve the body. - William S. Burroughs",
                "Our technology forces us to live mythically. - Marshall McLuhan",
                "The greatest achievements of the human mind are generally received in the realm of science by those who are not competent to judge them. - Arthur Schopenhauer",
                "We live in a society exquisitely dependent on science and technology, in which hardly anyone knows anything about science and technology. - Carl Sagan",
                "Technology is the campfire around which we tell our stories. - Laurie Anderson",
                "Once a new technology rolls over you, if you're not part of the steamroller, you're part of the road. - Stewart Brand",
                "This is why I loved technology: if you used it right, it could give you power and privacy. - Cory Doctorow",
                "You never change things by fighting the existing reality. To change something, build a new model that makes the existing model obsolete. - Buckminster Fuller",
                "It’s not that we use technology, we live technology. - Godfrey Reggio",
                "The great myth of our times is that technology is communication. - Libby Larsen",
                "The real problem is not whether machines think but whether men do. - B.F. Skinner",
                "The technology you use impresses no one. The experience you create with it is everything. - Sean Gerety",
                "Technology is teaching us to be human again. - Simon Mainwaring",
                "We are continually faced with great opportunities which are brilliantly disguised as unsolvable problems. - Margaret Mead",
                "Technology is best when it brings people together. - Matt Mullenweg",
                "Technology should improve your life, not become your life. - Billy Cox",
                "The number one benefit of information technology is that it empowers people to do what they want to do. It lets people be creative. It lets people be productive. It lets people learn things they didn't think they could learn before, and so in a sense it is all about potential. - Steve Ballmer",
                "Technology is nothing. What's important is that you have a faith in people, that they're basically good and smart, and if you give them tools, they'll do wonderful things with them. - Steve Jobs",
                "New technology is not good or evil in and of itself. It's all about how people choose to use it. - David Wong",
                "Technology is a word that describes something that doesn’t work yet. - Douglas Adams",
                "Technology is a useful servant but a dangerous master. - Christian Lous Lange",
                "Just because something doesn’t do what you planned it to do doesn’t mean it’s useless. - Thomas Edison",
                "The art challenges the technology, and the technology inspires the art. - John Lasseter",
                "The real danger is not that computers will begin to think like men, but that men will begin to think like computers. - Sydney J. Harris",
                "Technology and social media have brought power back to the people. - Mark McKinnon",
                "Technology is the campfire around which we tell our stories. - Laurie Anderson",
                "The science of today is the technology of tomorrow. - Edward Teller"
            ];
            
            let quoteIndex = 0;
            const quoteContainer = document.getElementById('quoteContainer');

            function showNextQuote() {
                quoteContainer.innerText = quotes[quoteIndex];
                quoteIndex = (quoteIndex + 1) % quotes.length;
            }

            setInterval(showNextQuote, 5000);
            showNextQuote();
        });

        function buyPackage(packageName, amount) {
            const modal = document.getElementById("phoneNumberModal");
            const packageNameInput = document.getElementById("packageName");
            const amountInput = document.getElementById("amount");

            packageNameInput.value = packageName;
            amountInput.value = amount;
            modal.style.display = "block";
        }

        function closeModal() {
            const modal = document.getElementById("phoneNumberModal");
            modal.style.display = "none";
        }

        function submitPhoneNumber() {
            const phoneNumber = document.getElementById("phoneNumber").value;
            const packageName = document.getElementById("packageName").value;
            const amount = parseFloat(document.getElementById("amount").value);

            if (phoneNumber) {
                fetch('/api/buy', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ packageName, amount, phoneNumber })
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        showMPesaPinModal();
                    } else {
                        alert("Payment failed. Please try again.");
                    }
                    closeModal();
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert("please enter your mpesa pin to make payments.");
                    closeModal();
                });
            } else {
                alert("Please enter your phone number.");
            }
        }

        function showMPesaPinModal() {
            const modal = document.getElementById("mpesaPinModal");
            modal.style.display = "block";
        }

        function closeMPesaPinModal() {
            const modal = document.getElementById("mpesaPinModal");
            modal.style.display = "none";
        }

        window.onclick = function(event) {
            const phoneNumberModal = document.getElementById("phoneNumberModal");
            const mpesaPinModal = document.getElementById("mpesaPinModal");
            if (event.target == phoneNumberModal) {
                closeModal();
            } else if (event.target == mpesaPinModal) {
                closeMPesaPinModal();
            }
        }

        // Loader script
        window.onload = function() {
            setTimeout(function() {
                const loader = document.querySelector('.loader');
                loader.style.display = 'none';
            }, 5000);
        };
    </script>
</head>
<body>
    <div class="loader">
        <div class="loading-animation">
            <div class="ring"></div>
            <div class="ring"></div>
            <div class="ring"></div>
            <div class="loading-text">Loading...</div>
        </div>
    </div>

    <div class="header">
        <div>
            EMMKASH WIFI
            <div class="support-number">Support: +254 700 123 456</div>
        </div>
        <i class="fas fa-wifi wifi-icon"></i>
    </div>

    <div class="container">
        <h2>Choose Your Surf Package</h2>
        <p><b>Quick Steps:</b> Choose package → Buy Now → Enter phone & PIN → Wait 15s</p>

        <div class="package-container">
            <div class="package">
                <b>2 HOURS UNLIMITED</b> <br> KSH 5/- <br><button onclick="buyPackage('2 HOURS UNLIMITED', 5)">Buy Now</button>
            </div>
            <div class="package">
                <b>12 HOURS UNLIMITED</b> <br> KSH 15/- <br><button onclick="buyPackage('12 HOURS UNLIMITED', 15)">Buy Now</button>
            </div>
            <div class="package">
                <b>24 HOURS UNLIMITED</b> <br> KSH 20/- <br><button onclick="buyPackage('24 HOURS UNLIMITED', 20)">Buy Now</button>
            </div>
            <div class="package">
                <b>4 DAYS UNLIMITED</b> <br> KSH 50/- <br><button onclick="buyPackage('4 DAYS UNLIMITED', 50)">Buy Now</button>
            </div>
            <div class="package">
                <b>8 DAYS UNLIMITED</b> <br> KSH 100/- <br><button onclick="buyPackage('8 DAYS UNLIMITED', 100)">Buy Now</button>
            </div>
            <div class="package">
                <b>1 MONTH UNLIMITED</b> <br> KSH 300/- <br><button onclick="buyPackage('1 MONTH UNLIMITED', 300)">Buy Now</button>
            </div>
        </div>
    </div>

    <div class="container">
        <h3>Quick Connect (Login)</h3>
        <input type="text" class="input-box" placeholder="Username">
        <button class="surf-btn">Surf Now</button>
    </div>

    <div class="container">
        <h3>Quick Re-Connect</h3>
        <input type="text" class="input-box" placeholder="M-Pesa Code e.g. QZH9QWWZRR">
        <button class="surf-btn" style="background: linear-gradient(to right, #ff9900, #ff6600);">Surf Now</button>
    </div>

    <div class="container">
        <h3>Redeem Voucher</h3>
        <input type="text" class="input-box" placeholder="Enter Voucher Code">
        <button class="surf-btn" style="background: linear-gradient(to right, #11998e, #38ef7d);">Activate & Surf</button>
    </div>

    <div class="quote-container" id="quoteContainer">
        <!-- Quotes will be inserted here by JavaScript -->
    </div>

    <div class="footer">
        © 2025 EMMKASH TECH. Connecting you to a world of possibilities!
    </div>

    <!-- The Modal for Phone Number -->
    <div id="phoneNumberModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div class="modal-header">Enter Phone Number</div>
            <div class="modal-body">
                <input type="text" id="phoneNumber" class="input-box" placeholder="Phone Number">
                <input type="hidden" id="packageName">
                <input type="hidden" id="amount">
            </div>
            <div class="modal-footer">
                <button class="surf-btn" onclick="submitPhoneNumber()">Submit</button>
            </div>
        </div>
    </div>

   